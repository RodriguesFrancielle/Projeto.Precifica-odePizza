<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400;500;700&family=Roboto+Condensed:wght@300&family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">


  <title>Precificação de Pizzas</title>
      <style>
              body {
            color: #000000;
            background-color: aliceblue;
            justify-content: center;
            align-content: center;
            align-items: center;
            text-align: center;
            min-height: 100vh;
            display: flex;
            font-family: 'Roboto Condensed', sans-serif;
            font-weight: 700;

          }


          legend h1 {
            font-size: 40px;
            font-weight: 700;
          }

          label {
            font-size: 20px;
            text-align: start;
          }

          .idNome {
            font-size: 500px;
          }

          fieldset {
            margin: 10px;
            border-radius: 6px;
          }

          button {

            border: 2px none;
            font: inherit;
            line-height: 1;
            margin: 0.5em;
            padding: 1em 2em;
            border-radius: 8px;
            background-color: #57ff59;
            transition: 0.25s;
            border-color: aliceblue;
            cursor: pointer;
          }

          button:hover {
            background-color: #43d645;
          }

      </style>
</head>
<body>
  <div class="row">
    <div class="col40">

    </div>
    <div class="col20">
        <fieldset>
            <legend>
              <h1>Precificação de Pizzas</h1>
              </legend>

                    <!--- Nome das Pizzas-->
                    <div id="idSelect" class="line margens">
                      <label for="idNomes">Nome da pizza:</label>
                      <select id="idNome">
                        <option value="broto" name="nmNome">Broto</option>
                        <option value="pequena"name="nmNome">Pequena	</option>
                        <option value="media" name="nmNome">Média</option>
                        <option value="grande" name="nmNome">Grande</option>
                    </select>
                  </div>
            

                 <!--- Tamanho das Pizzas-->
                 <div id="idSelect" class="line margens">
                  <label for="idNomes">Tamanho da pizza:</label>
                  <select id="idNome">
                    <option value="15" name="nmTamanho">Tamanho: 15cm</option>
                    <option value="25" name="nmTamanho">Tamanho: 25cm	</option>
                    <option value="35" name="nmTamanho">Tamanho: 35cm</option>
                    <option value="45" name="nmTamanho">Tamanho: 45cm</option>
                </select>
              </div>


              <!--- Preços das Pizzas-->
              <div id="idSelect" class="line margens">
                <label for="idNomes">Preço da pizza:</label>
                <select id="idNome">
                  <option value="25.00" name="nmPreco">Preço: 25,00</option>
                  <option value="35.00" name="nmPreco">Preço: 35,00</option>
                  <option value="40.00" name="nmPreco">Preço: 40,00</option>
                  <option value="60.00" name="nmPreco">Preço: 60,00</option>
              </select>
            </div>

            </div>
            <div class="col100">
                <button type="button" id="idBtCadastrar" class="margens" >Cadastrar</button>
                <button type="button" id="idBtRelatorio" class="margens" >Relatório</button>
            </div>

            
        </fieldset>
                <div>
                    <fieldset>
                        <div class="clLegenda">
                            <legend>Resultado</legend>
                            <div>
                              <output id="idOut"></output>
                          </div>
              
                    </fieldset>
                </div>
       


    
    <div class="col40">

          </div>
      </div>
        
          <script>
                //Variáveis globais:
                var nomeComercial 
                var tamanho1
                var precos
                var listaPizza = []
                var btCadastrar = document.querySelector("#idBtCadastrar")
                var btRelatorio = document.querySelector("#idBtRelatorio")
                var out = document.getElementById("idOut")
          

                // capturar com onclick: nome, tamanho1, tamanho2 e preço inicial
                btCadastrar.onclick = function () {
                  cadastrarDados()
                  
                }
                //calculos para gerar o relatorio
                btRelatorio.onclick = function () {
                  calcularRedonda()
                  diferenca()
                  mostrarTela()

                }

                  
                  function cadastrarDados() {
                      // cadastro dos dados da tela
                          nomeComercial = document.querySelector('option[name="nmNome"]:checked').value
                          console.log(nomeComercial);

                          tamanho1 =document.querySelector('option[name="nmTamanho"]:checked').value
                          console.log(tamanho1);

                          precos = document.querySelector('option[name="nmPreco"]:checked').value
                          console.log(precos);


                        // Colocar dos dados da tela para um array
                          var pizza = []
                              
                              pizza[0] = nomeComercial
                              pizza[1] = tamanho1
                              pizza[2] = precos
                              listaPizza.push(pizza)
                              
                              console.log(listaPizza);
                    }


                        // Calcular os dados da pizza redonda
                          function calcularRedonda(){
                            
                            listaPizza.forEach(pizza => {
                              let raio = pizza[1] / 2
                              let area = Math.PI * (raio * raio)
                              pizza.push(area.toFixed(2))
                              console.log(area)
                              console.log(listaPizza);});

                              listaPizza.forEach(pizza => {
                              let custoBeneficio = ( pizza[2] / pizza[3]) * 100
                              pizza.push(custoBeneficio.toFixed(2))
                              console.log(custoBeneficio);
                              console.log(listaPizza);

                            
                          })};
                        
                            // Calcular a diferença do custo beneficio
                          function diferenca() {
                            listaPizza = listaPizza.sort(function (a, b) {
                                      if (a[5] > b[5]) {
                                      return 1
                              }
                                      if (a[5] < b[5]) {
                                      return -1
                              }
                                      return 0
                              })
                            
                          }

                        // Mostrar os dados na tela
                            function mostrarTela() {
                              out.value = listaPizza
                            }

                  
          </script>

      </body>
</html>